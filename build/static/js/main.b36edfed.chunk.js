(this["webpackJsonpcharity-tasker"]=this["webpackJsonpcharity-tasker"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),o=(a(69),a(4)),s=a(5),i=a(8),u=a(7),m=a(9),h=a(11),p=a(27),d=a.n(p),g=a(13),E=a.n(g),b=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},f=function(e){return{type:"SET_CURRENT_USER",payload:e}},v=function(){return function(e){localStorage.removeItem("jwtToken"),b(!1),e(f({}))}},y=a(10),w=a(23),k=a(56),C=a(30),O=a(93),j={isAuthenticated:!1,user:{},loading:!1},N={},x=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(C.a)(Object(C.a)({},e),{},{isAuthenticated:!O(t.payload),user:t.payload});case"USER_LOADING":return Object(C.a)(Object(C.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),S=[k.a],D=Object(w.e)(x,{},Object(w.d)(w.a.apply(void 0,S),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),L=a(106),T=a(107),_=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.auth.user;return console.log(e),l.a.createElement("div",{className:"container"},l.a.createElement(L.a,{id:"Navbar",variant:"primary"},l.a.createElement(T.a,{className:"mr-auto"},e.id?l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a.Link,{onClick:this.onLogoutClick}," Logout "),l.a.createElement(T.a.Link,{href:"/dashboard"},"Dashboard")):l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a.Link,{href:"/"},"Home"),l.a.createElement(T.a.Link,{href:"/login"},"Login"),l.a.createElement(T.a.Link,{href:"/register"},"Register")))))}}]),a}(n.Component),R=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(_),U=a(102),A=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement("h1",null,l.a.createElement("b",null,"Charity Tasker")),l.a.createElement("h4",null,"A MERN App created as a Non-For Profit platform"),l.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"Log in and create your own challenges for other users to complete. A donation goal is attached to each challenge. Once the goal is met, the challenge must be completed or the user who chose to complete it has to donate!"),l.a.createElement("br",null),l.a.createElement("div",{className:"col s6"},l.a.createElement(m.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},l.a.createElement(U.a,{variant:"warning"},"Register"))),l.a.createElement("div",{className:"col s6"},l.a.createElement(m.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-flat waves-effect white black-text"},l.a.createElement(U.a,{variant:"warning"},"Log In"))),l.a.createElement("iframe",{title:"Challenges",width:"560",height:"315",src:"https://www.youtube.com/embed/XI8l61-xCOU",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))))}}]),a}(n.Component),B=a(21),F=(a(54),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(B.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={username:e.state.username,name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={username:"",name:"",email:"",password:"",password2:"",errors:{}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Register")," below"),l.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",l.a.createElement(m.b,{to:"/login"},"Log in"))),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,className:"login"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"username"},"Username",l.a.createElement("input",{onChange:this.onChange,value:this.state.username,error:e.username,id:"username",type:"text",className:"form-control"})),l.a.createElement("span",{className:"red-text"},e.username)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Name",l.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:"form-control"})),l.a.createElement("span",{className:"red-text"},e.name)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email",l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",className:"form-control",type:"email"})),l.a.createElement("span",{className:"red-text"},e.email)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password",l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,className:"form-control",id:"password",type:"password"})),l.a.createElement("span",{className:"red-text"},e.password)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password2"},"Confirm Password",l.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,className:"form-control",id:"password2",type:"password"})),l.a.createElement("span",{className:"red-text"},e.password2)),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",backgroundColor:"#223623",color:"white"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up"))))}}]),a}(n.Component)),M=Object(y.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){E.a.post("/api/users/register",e).then((function(n){E.a.post("/api/users/login",e).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),b(n);var l=d()(n);a(f(l)),t.push("/dashboard")})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))})).catch((function(e){console.log(e+"There was an"),a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(h.g)(F)),H=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(B.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Login")," below"),l.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",l.a.createElement(m.b,{to:"/register"},"Register"))),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,className:"login"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email:",l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,className:"form-control",id:"email",type:"email"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password:",l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,className:"form-control",id:"password",type:"password"}))),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",backgroundColor:"#223623",color:"white"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login"))))}}]),a}(n.Component),P=Object(y.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){E.a.post("/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),b(a);var n=d()(a);t(f(n))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(H),G=a(63),I=Object(y.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(G.a)(e,["component","auth"]);return l.a.createElement(h.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?l.a.createElement(t,e):l.a.createElement(h.a,{to:"/login"})}}))})),W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.auth.user;return l.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement("h2",null,l.a.createElement("b",null,"Hey there,")," ",e.username),l.a.createElement("h1",{className:"flow-text grey-text text-darken-1"},"Please choose an option below"),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/create_challenge"},"Create a Challenge")),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/challenges"},"View Existing Challenges")),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/mycreatedchallenges"},"Created Challenges")),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/pickedchallenges"},"Picked challenges")),l.a.createElement(m.b,{to:"/charities"},l.a.createElement("div",null,"Charities we work with")),l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onLogoutClick,className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Logout"))))}}]),a}(n.Component),V=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(W),X=function(){return E.a.get("https://charity-tasker.herokuapp.com/api/challenges")},J=function(e,t){return E.a.patch("https://charity-tasker.herokuapp.com/api/challenges/".concat(e),t)},z=function(e){return E.a.get("https://charity-tasker.herokuapp.com/api/challenges/".concat(e))},$=a(108),q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.state={challenges:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;X().then((function(t){return e.setState({challenges:t.data})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Challenges below"),this.state.challenges.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",null,l.a.createElement($.a,{variant:"warning"},l.a.createElement($.a.Header,{as:"h4"},e.name),l.a.createElement($.a.Body,null,l.a.createElement($.a.Title,null,l.a.createElement("li",null,"Goal: ",e.goal)),l.a.createElement($.a.Text,null,l.a.createElement("li",null,"Category: ",e.category),l.a.createElement("li",null,"Description: ",e.description),l.a.createElement("li",null,"Current Likes: ",e.likes)),l.a.createElement(m.b,{to:{pathname:"/challenge",state:{_id:e._id}}},l.a.createElement(U.a,{variant:"primary"},"Go To Challenge"))))))})))}}]),a}(n.Component),K=a(103),Q=a(104),Y=a(105),Z=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={charityDesc1:"The RSPCA is an independent, community-based charity providing animal care and protection services across the country.",charityDesc2:"The aim of founding StreetSmart was to simultaneously break down inaccurate prejudices about homelessness, raise vital funds for important smaller, local organisations and strengthen them through collaboration and connecting them to their community.",charityDesc3:"The very first Ronald McDonald House in Australia opened in Camperdown, near the Children\u2019s Hospital in 1981. In 1995, RMHC Charities Greater Western Sydney (GWS) relocated the House to Westmead, to continue providing vital services to families after the hospital had relocated to Western Sydney. Today, our Westmead House provides a safe place to stay for around 1,360 families per year..",charityDesc4:"Starlight's mission is To brighten the lives of seriously ill children and their families .Because sick kids are still kids at heart... ",maxLength:80},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Below are the 4 charities we work with"),l.a.createElement(K.a,null,l.a.createElement(Q.a,null,l.a.createElement(Y.a,null,l.a.createElement($.a,{style:{width:"15rem",backgroundColor:"#223623",color:"#B6CA91"}},l.a.createElement($.a.Img,{variant:"top",src:"https://www.rspca.org.au/sites/all/themes/rspca/logo.png"}),l.a.createElement($.a.Body,null,l.a.createElement($.a.Title,{className:"cardTitle"},"For the Animal Lovers"),l.a.createElement($.a.Text,null,this.state.charityDesc1.length>this.state.maxLength?this.state.charityDesc1.substring(0,this.state.maxLength-3)+"...":this.state.charityDesc1),l.a.createElement("a",{href:"https://www.rspca.org.au/about-us"},l.a.createElement(U.a,{variant:"primary"},"RSPCA Website"))))),l.a.createElement(Y.a,null,l.a.createElement($.a,{style:{width:"15rem",backgroundColor:"#223623",color:"#B6CA91"}},l.a.createElement($.a.Img,{variant:"top",src:"https://streetsmartaustralia.org/wp-content/uploads/2014/10/StreetSmart-Logo-landscape-black-80h.png"}),l.a.createElement($.a.Body,null,l.a.createElement($.a.Title,{className:"cardTitle"},"Help those in need"),l.a.createElement($.a.Text,null,this.state.charityDesc2.length>this.state.maxLength?this.state.charityDesc2.substring(0,this.state.maxLength-3)+"...":this.state.charityDesc2),l.a.createElement("a",{href:"https://streetsmartaustralia.org/"},l.a.createElement(U.a,{variant:"primary"},"StreetSmart"))))),l.a.createElement(Y.a,null,l.a.createElement($.a,{style:{width:"15rem",backgroundColor:"#223623",color:"#B6CA91"}},l.a.createElement($.a.Img,{variant:"top",src:"https://www.rmhc.org.au/sites/default/files/2019-05/RMHC_GWSyd_main_whitetext.png"}),l.a.createElement($.a.Body,null,l.a.createElement($.a.Title,{className:"cardTitle"},"To you hungry kids"),l.a.createElement($.a.Text,null,this.state.charityDesc3.length>this.state.maxLength?this.state.charityDesc3.substring(0,this.state.maxLength-3)+"...":this.state.charityDesc3),l.a.createElement("a",{href:"https://www.rmhc.org.au/our-chapters/rmhc-greater-western-sydney"},l.a.createElement(U.a,{variant:"primary"},"Ronald McDonald"))))),l.a.createElement(Y.a,null,l.a.createElement($.a,{style:{width:"15rem",backgroundColor:"#223623",color:"#B6CA91"}},l.a.createElement($.a.Img,{variant:"top",src:"https://starlight.org.au/themes/stl/images/logo.png"}),l.a.createElement($.a.Body,null,l.a.createElement($.a.Title,{className:"cardTitle"},"Starlight - Children in Need"),l.a.createElement($.a.Text,null,this.state.charityDesc4.length>this.state.maxLength?this.state.charityDesc4.substring(0,this.state.maxLength-3)+"...":this.state.charityDesc4),l.a.createElement("a",{href:"https://www.rspca.org.au/about-us"},l.a.createElement(U.a,{variant:"primary"},"Startlight"))))))))}}]),a}(n.Component),ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.state={challenges:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;X().then((function(t){return e.setState({challenges:t.data})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Challenges below"),this.state.challenges.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",null,l.a.createElement("li",null,e.name),l.a.createElement("li",null,e.category),l.a.createElement("li",null,e.goal),l.a.createElement("li",null,e.shortDescription)),l.a.createElement("input",{type:"checkbox",checked:!!e.checked}))})))}}]),a}(n.Component),te=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(ee),ae=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(K.a,null,l.a.createElement(Z,null))}}]),a}(n.Component),ne=a(18),le=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={category:"Food",description:"",name:"",shortDescription:"",goal:0,redirect:null},e.handleChange=e.handleChange.bind(Object(ne.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(ne.a)(e)),e}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(B.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t;e.preventDefault(),(t={category:this.state.category,description:this.state.description,name:this.state.name,shortDescription:this.state.shortDescription,goal:this.state.goal,creator_id:this.props.auth.user.id},console.log(t),E.a.post("/api/challenges",t)).then(this.setState({redirect:"/dashboard"}))}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(h.a,{to:this.state.redirect}):l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Create a new challenge"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"login"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Pick the type of challenge to be completed",l.a.createElement("select",{onChange:this.handleChange,name:"category",className:"form-control"},l.a.createElement("option",{value:"Food"},"Food"),l.a.createElement("option",{value:"Adventure"},"Adventure"),l.a.createElement("option",{value:"Video"},"Video"),l.a.createElement("option",{value:"Personal"},"Personal")))),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,className:"form-control"}))),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Description",l.a.createElement("textarea",{name:"description",onChange:this.handleChange,className:"form-control"}))),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Likes Goal:",l.a.createElement("input",{type:"integer",name:"goal",onChange:this.handleChange,className:"form-control"}))),l.a.createElement("input",{type:"submit",value:"Submit",onSubmit:this.handleSubmit,className:"form-control"})))}}]),a}(n.Component),re=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(le),ce=a(41),oe=a.n(ce),se=a(62),ie=a(42);function ue(){var e=Object(n.useState)(""),t=Object(ie.a)(e,1)[0],a=Object(n.useState)(),r=Object(ie.a)(a,2),c=r[0],o=r[1],s=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){o(t.result)}},i=function(){var e=Object(se.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/upload",{method:"POST",body:JSON.stringify({data:t}),headers:{"Content-type":"application/json"}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement("h3",null,"Upload"),l.a.createElement("form",{onSubmit:function(e){console.log("submitting"),e.preventDefault(),c&&i(c)}},l.a.createElement("input",{className:"upload",id:"chooseFile",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];s(t)},value:t}),l.a.createElement("button",{className:"upload",type:"submit"}," ","Submit"," ")),c&&l.a.createElement("img",{src:c,alt:"chosen",style:{height:"200px"}}))}var me=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onLogoutClick=function(e){e.preventDefault(),n.props.logoutUser()},n.incrementMe=function(){var e,t,a=n.state.challenge.slice(0);a[0].likes+=1,n.setState({challenges:a}),e=n.state.challenge[0]._id,t=a[0].likes,J(e,{likes:t})},n.challengeComplete=function(){var e,t,a=n.state.challenge.slice(0);a[0].status="Completed",n.setState({challenges:a}),e=n.state.challenge[0]._id,t=a[0].status,J(e,{status:t})},n.state={challenge:[!0],fulfilledBy_id:!1},n.componentDidMount=n.componentDidMount.bind(Object(ne.a)(n)),n.handleClick=n.handleClick.bind(Object(ne.a)(n)),n.incrementMe=n.incrementMe.bind(Object(ne.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){(function(e,t){console.log(e),console.log(t);var a={challenge_id:e,user_id:t.user.id};return E.a.put("/api/challenges",a)})(this.state.challenge[0]._id,this.props.auth).then((function(e){return console.log("Updated")}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state._id;z(t).then((function(t){return e.setState({challenge:t.data})})),this.state.challenge!==[]&&console.log(z())}},{key:"render",value:function(){return 0===this.state.challenge.length?null:l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"Challenge Title: ",this.state.challenge[0].name),l.a.createElement("ul",null,l.a.createElement($.a,null,l.a.createElement("li",{className:"singleChallengeList"},l.a.createElement($.a.Header,null,"Category"),l.a.createElement("br",null),l.a.createElement($.a.Text,null,this.state.challenge[0].category)),l.a.createElement("li",{className:"singleChallengeList"},l.a.createElement($.a.Header,null,"Description"),l.a.createElement("br",null),l.a.createElement($.a.Text,null,this.state.challenge[0].description)),l.a.createElement("li",{className:"singleChallengeList"},l.a.createElement($.a.Header,null,"Likes Goal"),l.a.createElement("br",null),l.a.createElement($.a.Text,null," ",this.state.challenge[0].goal)),l.a.createElement("li",{className:"singleChallengeList"},l.a.createElement($.a.Header,null,"Likes"),l.a.createElement("br",null),l.a.createElement($.a.Text,null," ",this.state.challenge[0].likes)),l.a.createElement("li",{className:"singleChallengeList"},l.a.createElement($.a.Header,null,"Picked Up By"),l.a.createElement("br",null),l.a.createElement($.a.Text,null,this.state.challenge[0].fulfilledBy_id)),l.a.createElement(m.b,{to:"/pickedchallenges"},l.a.createElement("button",{className:"greenButton",onClick:this.handleClick},"Click here to pick the challenge for yourself")),l.a.createElement("button",{className:"greenButton",onClick:this.incrementMe},"Likes: ",this.state.challenge[0].likes," "),l.a.createElement(ue,null),l.a.createElement("button",{className:"greenButton",onClick:this.challengeComplete},"Status: ",this.state.challenge[0].status))))}}]),a}(n.Component),he=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(me),pe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.state={challenge:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t=e.user.id;return E.a.get("https://charity-tasker.herokuapp.com/api/challenges?creator_id=".concat(t))})(this.props.auth).then((function(t){return e.setState({challenge:t.data})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Challenges below"),this.state.challenge.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",null,l.a.createElement($.a,null,l.a.createElement($.a.Header,{as:"h4"},l.a.createElement(m.b,{to:{pathname:"/challenge",state:{_id:e._id}}},l.a.createElement("li",null,e.name))),l.a.createElement($.a.Text,null,l.a.createElement("li",null),l.a.createElement("li",null,"Category: ",e.category),l.a.createElement("li",null,"Goal: ",e.goal," Likes"),l.a.createElement("li",null,"Current Likes: ",e.likes),l.a.createElement("li",null,"Description: ",e.shortDescription)))))})))}}]),a}(n.Component),de=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(pe),ge=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.state={challenges:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t=e.user.id;return E.a.get("https://charity-tasker.herokuapp.com/api/challenges?fulfilledBy_id=".concat(t))})(this.props.auth).then((function(t){return e.setState({challenges:t.data})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"CHALLENGES TO COMPLETE"),this.state.challenges.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",null,l.a.createElement($.a,null,l.a.createElement($.a.Header,{as:"h4"},l.a.createElement(m.b,{to:{pathname:"/challenge",state:{_id:e._id}}},l.a.createElement("li",null,e.name))),l.a.createElement($.a.Text,null,l.a.createElement("li",null,"Category: ",e.category),l.a.createElement("li",null,"Goal: ",e.goal," likes"),l.a.createElement("li",null,e.shortDescription),l.a.createElement("li",null,e.description),l.a.createElement("li",null,"Current Likes: ",e.likes)),l.a.createElement("li",null," ",l.a.createElement($.a.Header,{as:"h5"},e.fulfilledBy_id?"Challenge already completed!":"Still needs completing....")))))})))}}]),a}(n.Component),Ee=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(ge);if(localStorage.jwtToken){var be=localStorage.jwtToken;b(be);var fe=d()(be);D.dispatch(f(fe));var ve=Date.now()/1e3;fe.exp<ve&&(D.dispatch(v()),window.location.href="./login")}var ye=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(y.a,{store:D},l.a.createElement(m.a,null,l.a.createElement("div",{className:"container"},l.a.createElement(R,null),l.a.createElement(h.b,{exact:!0,path:"/",component:A}),l.a.createElement(h.b,{exact:!0,path:"/register",component:M}),l.a.createElement(h.b,{exact:!0,path:"/login",component:P}),l.a.createElement(h.b,{exact:!0,path:"/charities",component:Z}),l.a.createElement(h.b,{exact:!0,path:"/category",component:te}),l.a.createElement(h.d,null,l.a.createElement(I,{exact:!0,path:"/dashboard",component:V}),l.a.createElement(I,{exact:!0,path:"/challenges",component:q}),l.a.createElement(I,{exact:!0,path:"/create_challenge",component:re}),l.a.createElement(I,{exact:!0,path:"/challenge",component:he}),l.a.createElement(I,{exact:!0,path:"/mycreatedchallenges",component:de}),l.a.createElement(I,{exact:!0,path:"/pickedchallenges",component:Ee})),l.a.createElement(ae,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(99);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,a){e.exports=a(100)},69:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.b36edfed.chunk.js.map